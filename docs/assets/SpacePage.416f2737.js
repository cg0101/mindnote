import{u as t,s as e,g as n}from"./util.9e521194.js";import{o as i,b as s,t as o,e as a,w as l,p as d,f as c,g as r,F as m,h,i as p,r as w}from"./vendor.7204fa68.js";const v={props:["itemTitle","itemContent","itemBtn","styleObject","btnShowType"],data:()=>({title:"title",content:"content",btn:"btn",showType:0,btnShown:!0}),created(){if(this.title=this.itemTitle||"title",this.itemContent&&(this.content=this.itemContent),this.itemBtn&&(this.btn=this.itemBtn),this.btnShowType)switch(this.btnShowType){case"Hover":this.showType=1,this.btnShown=!1}},methods:{btnClick(){console.log("card click"),this.$emit("hit-click",this)},startHover(){this.showType&&(this.btnShown=!0)},endHover(){this.showType&&(this.btnShown=!1)}}},b={key:0,class:"info title"},y={key:1,class:"info content"};v.render=function(t,e,n,d,c,r){return i(),s("div",{class:"card",style:n.styleObject,onMouseenter:e[2]||(e[2]=(...t)=>r.startHover&&r.startHover(...t)),onMouseleave:e[3]||(e[3]=(...t)=>r.endHover&&r.endHover(...t))},[n.itemTitle?(i(),s("div",b,o(c.title),1)):a("",!0),n.itemContent?(i(),s("div",y,o(c.content),1)):a("",!0),n.itemBtn?(i(),s("div",{key:2,class:["info btn",{shown:c.btnShown}],onClick:e[1]||(e[1]=l(((...t)=>r.btnClick&&r.btnClick(...t)),["stop","prevent"]))},o(c.btn),3)):a("",!0)],36)};const f={props:["link"],components:{MindnoteCard:v},data:()=>({err:null,msg:"no data",itemList:[],addNewBtnStr:" + 添加",deleteBtnStr:"删除",styleObj:"border-style: dashed;"}),created(){this.fetchData()},methods:{addNewMindnotePage(){console.log("click add new");const n=t(),i=new Date,s={id:n,name:window.moment(new Date).format("YYYY-MM-DD日记"),time:{createAt:i.toLocaleString()}};this.itemList.push(s),e("z-mindnoteItems",this.itemList),e(n,[{id:1,name:"Untitled"}]),this.$router.push("/mindnote/"+n)},deleteItem(t,n){console.log("delete item",this,t,n),this.itemList.splice(n,1),e("z-mindnoteItems",this.itemList),localStorage.removeItem(t.toString())},fetchData(){const t=n("z-mindnoteItems");null==t?console.log("no local data \ncheck for cloud data"):this.itemList=t}}},k=p("data-v-2faaf275");d("data-v-2faaf275");const u={class:"page-space"},g=r("div",{class:"navbar"},[r("h3",null,"Z Mindnote")],-1),S={key:0,class:"msg"},T={class:"grid"},C={key:0,class:"itemwrapper"};c();const B=k(((t,e,n,l,d,c)=>{const p=w("mindnote-card"),v=w("router-link");return i(),s("div",u,[g,d.err?(i(),s("div",S,o(d.msg),1)):a("",!0),r("div",T,[r("div",{class:"addNewBtn",onClick:e[1]||(e[1]=(...t)=>c.addNewMindnotePage&&c.addNewMindnotePage(...t))},[r(p,{itemTitle:d.addNewBtnStr,style:d.styleObj},null,8,["itemTitle","style"])]),d.itemList?(i(),s("div",C,[(i(!0),s(m,null,h(d.itemList,((t,e)=>(i(),s("div",{class:"blockwrapper",key:e},[r(v,{class:"block",to:{name:"MindnotePage",params:{mindnoteId:t.id}}},{default:k((()=>[r(p,{itemTitle:t.name,itemContent:t.time.createAt,itemBtn:d.deleteBtnStr,btnShowType:"Hover",onHitClick:n=>c.deleteItem(t.id,e)},null,8,["itemTitle","itemContent","itemBtn","onHitClick"])])),_:2},1032,["to"])])))),128))])):a("",!0)])])}));f.render=B,f.__scopeId="data-v-2faaf275";export default f;
